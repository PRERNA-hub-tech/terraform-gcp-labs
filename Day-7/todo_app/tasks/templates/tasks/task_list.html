{% extends 'tasks/base.html' %}
{% block content %}
  <div class="card mb-4 p-3">
    <form method="post" class="row g-2">
      {% csrf_token %}
      <div class="col-9">
        {{ form.title }}
      </div>
      <div class="col-2">
        <button class="btn btn-primary w-100" type="submit">Add Task</button>
      </div>
    </form>
  </div>

  <ul class="list-group">
    {% for task in tasks %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          {% if task.completed %}<s>{{ task.title }}</s>{% else %}{{ task.title }}{% endif %}
          <small class="text-muted d-block">Created: {{ task.created|date:"SHORT_DATETIME_FORMAT" }}</small>
        </div>
        <div>
          <a href="{% url 'task-update' task.pk %}" class="btn btn-sm btn-outline-secondary">Edit</a>
          <a href="{% url 'task-delete' task.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
        </div>
      </li>
    {% empty %}
      <li class="list-group-item">No tasks yet.</li>
    {% endfor %}
  </ul>
{% endblock %}
